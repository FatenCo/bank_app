<div class="content-wrapper">
  <div class="list-header">
    <h2>Liste des Process</h2>
    <button class="btn btn-primary" (click)="create()">
      <i class="bi bi-plus-lg"></i> Nouveau
    </button>
  </div>

  <table class="table table-hover modern-table">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Type</th>
        <th>Mode</th>
        <th>Statut</th>
        <th class="text-center">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of processes">
        <td>{{ p.name }}</td>
        <td>{{ p.type }}</td>
        <td>{{ p.mode }}</td>
        <td>{{ p.enabled ? 'Actif' : 'Inactif' }}</td>
        <td class="text-center">
          <div class="btn-group" role="group">
            <!-- Démarrer / Arrêter -->
            <button
              class="btn btn-outline-success btn-sm"
              (click)="start(p)"
              [disabled]="!p.enabled || p.mode==='MANUAL'"
              title="Démarrer"
            >
              <i class="bi bi-play-fill"></i>
            </button>
            <button
              class="btn btn-outline-warning btn-sm"
              (click)="stop(p)"
              title="Arrêter"
            >
              <i class="bi bi-stop-fill"></i>
            </button>
            <!-- CRUD -->
            <button class="btn btn-outline-info btn-sm" (click)="view(p.id!)" title="Consulter">
              <i class="bi bi-eye"></i>
            </button>
            <button class="btn btn-outline-primary btn-sm" (click)="edit(p.id!)" title="Modifier">
              <i class="bi bi-pencil"></i>
            </button>
            <button class="btn btn-outline-danger btn-sm" (click)="delete(p.id!)" title="Supprimer">
              <i class="bi bi-trash"></i>
            </button>
          </div>
        </td>
      </tr>
      <tr *ngIf="!loading && processes.length === 0">
        <td colspan="5" class="text-center text-muted">Aucun process trouvé</td>
      </tr>
    </tbody>
  </table>
</div>
